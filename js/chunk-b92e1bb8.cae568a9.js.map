{"version":3,"sources":["webpack:///./src/components/form/b-text.vue?7444","webpack:///./src/components/form/b-text.vue?b748","webpack:///./src/components/form/b-text.vue?9607","webpack:///src/components/form/b-text.vue","webpack:///./src/components/form/b-text.vue?8c50","webpack:///./src/components/form/b-text.vue","webpack:///./src/components/form/b-text.vue?5b03","webpack:///./src/components/content/Tree/Tree/b-tree-item.vue?6b9e","webpack:///src/components/content/Tree/Tree/b-tree-item.vue","webpack:///./src/components/content/Tree/Tree/b-tree-item.vue?27e0","webpack:///./src/components/content/Tree/Tree/b-tree-item.vue"],"names":["content","module","i","locals","exports","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_g","_b","ref","style","attrs","cImputType","size","Number","length","readonly","disabled","cPlaceholder","nativeOn","$event","validator","model","value","callback","$$v","dataValue","expression","$attrs","$listeners","$slots","valid","validInfo","_t","_v","_s","_e","invalid","invalidInfo","info","hideIcon","cIcon","class","staticRenderFns","name","components","mixins","inheritAttrs","prop","event","props","type","String","util","placeholder","maxlength","icon","data","computed","includes","cStyle","o","defaultRegex","pattern","iconStyle","watch","$emit","component","___CSS_LOADER_API_IMPORT___","push","objClass","on","mouseenterOnItem","mouseleaveOnItem","stopPropagation","clickOnItem","dblclickOnItem","dragstart","preventDefault","dragover","dragleave","dragend","dragexit","drop","itemClass","open","caretDown","caretRight","staticStyle","folderOpen","folder","fileAlt","editItem","item","editorBlur","directives","rawName","status","children","primaryKey","selectedOption","require","selected","hover","editError","dropStatus","config","isFolder","canEdit","isSelected","methods","editValid","editInvalid","hideEditor","target","opacity","dataTransfer","setData","$store","state","timer","commit","tools","cellback","currentTarget"],"mappings":"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","file":"js/chunk-b92e1bb8.cae568a9.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-text.vue?vue&type=style&index=0&id=1614734b&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2e72930c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-text.vue?vue&type=style&index=0&id=1614734b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-text.vue?vue&type=style&index=0&id=1614734b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" position-relative p-0\"},[_c('basic-text',_vm._g(_vm._b({ref:\"text\",style:(_vm.cStyle),attrs:{\"type\":_vm.cImputType,\"size\":_vm.size,\"length\":Number(_vm.length),\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"placeholder\":_vm.cPlaceholder},nativeOn:{\"blur\":function($event){return _vm.validator($event)}},model:{value:(_vm.dataValue),callback:function ($$v) {_vm.dataValue=$$v},expression:\"dataValue\"}},'basic-text',_vm.$attrs,false),_vm.$listeners)),(_vm.$slots.valid || _vm.validInfo)?_c('b-valid',{attrs:{\"state\":\"valid\"}},[_vm._t(\"valid\",[_vm._v(\" \"+_vm._s(_vm.validInfo)+\" \")])],2):_vm._e(),(_vm.$slots.invalid || _vm.invalidInfo)?_c('b-valid',{attrs:{\"state\":\"invalid\"}},[_vm._t(\"invalid\",[_vm._v(\" \"+_vm._s(_vm.invalidInfo)+\" \")])],2):_vm._e(),_c('b-info',{attrs:{\"info\":_vm.info}}),(!_vm.hideIcon && _vm.cIcon)?_c('i',{staticClass:\"text-muted text-center position-absolute\",class:_vm.cIcon,style:(_vm.iconStyle)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\" position-relative p-0\">\r\n    <basic-text\r\n      ref=\"text\"\r\n      v-model=\"dataValue\"\r\n      :type=\"cImputType\"\r\n      :style=\"cStyle\"\r\n      :size=\"size\"\r\n      :length=\"Number(length)\"\r\n      :readonly=\"readonly\"\r\n      :disabled=\"disabled\"\r\n      :placeholder=\"cPlaceholder\"\r\n      v-bind=\"$attrs\"\r\n      v-on=\"$listeners\"\r\n      @blur.native=\"validator($event)\"\r\n    />\r\n    <b-valid\r\n      v-if=\"$slots.valid || validInfo\"\r\n      state=\"valid\"\r\n    >\r\n      <slot name=\"valid\">\r\n        {{ validInfo }}\r\n      </slot>\r\n    </b-valid>\r\n    <b-valid\r\n      v-if=\"$slots.invalid || invalidInfo\"\r\n      state=\"invalid\"\r\n    >\r\n      <slot name=\"invalid\">\r\n        {{ invalidInfo }}\r\n      </slot>\r\n    </b-valid>\r\n    <b-info :info=\"info\" />\r\n    <i\r\n      v-if=\"!hideIcon && cIcon\"\r\n      class=\"text-muted text-center position-absolute\"\r\n      :class=\"cIcon\"\r\n      :style=\"iconStyle\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport tools from \"@/tools/index.js\";\r\nimport config from \"@/config/index.js\";\r\nimport util from \"@/components/util/index.js\";\r\n\r\nimport BasicText from \"@/components/form/Basic/basic-text.vue\";\r\n\r\nimport BValid from \"@/components/form/Other/b-form-valid.vue\";\r\nimport BInfo from \"@/components/basic/basic-info.vue\";\r\n\r\nexport default {\r\n  name: \"BText\",\r\n  components: { BasicText, BValid, BInfo },\r\n  mixins: [\r\n    util.mixins.form.readonly,\r\n    util.mixins.form.validator\r\n  ],\r\n  inheritAttrs: false,\r\n  model: {\r\n    prop: 'value',\r\n    event: 'input',\r\n  },\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"text\",\r\n      validator: value => {\r\n        // 这个值必须匹配下列字符串中的一个\r\n        return [\r\n          \"text\",\r\n          \"password\",\r\n          \"search\",\r\n          \"email\",\r\n          \"url\",\r\n          \"ip\",\r\n          \"tel\",\r\n          \"phone\",\r\n          \"number\"\r\n        ].includes(value);\r\n      }\r\n    },\r\n    value: util.props.String,\r\n    placeholder: util.props.String,\r\n    length: util.props.UInt,\r\n    size: util.props.size,\r\n    maxlength: {\r\n      ...util.props.UInt,\r\n      default: 64,\r\n    },\r\n    icon: util.props.String,\r\n    hideIcon: util.props.Boolean,\r\n    info: util.props.String\r\n  },\r\n  data() {\r\n    return {\r\n      dataValue: this.value\r\n    }\r\n  },\r\n  computed: {\r\n    cImputType: function() {\r\n      if (this.type == \"phone\") return \"tel\";\r\n      if (this.type == \"ip\") return \"text\";\r\n      return this.type;\r\n    },\r\n    cPlaceholder: function() {\r\n      const o = Object.getOwnPropertyDescriptor(\r\n        config.ui.forms.placeholder,\r\n        this.type\r\n      );\r\n      return this.placeholder || (o && o.value) || null;\r\n    },\r\n    cIcon: function() {\r\n      if ([\"number\"].includes(this.type)) return;\r\n      const o = Object.getOwnPropertyDescriptor(config.ui.icon, this.type);\r\n      return this.icon || (o && o.value) || null;\r\n    },\r\n    cStyle: function() {\r\n      let o = {};\r\n      if (!this.hideIcon && this.cIcon)\r\n        Object.assign(o, { \"padding-left\": \"2em\" });\r\n      return o;\r\n    },\r\n    defaultRegex: function() {\r\n      if ([\"number\"].includes(this.type)) return null;\r\n      const o = Object.getOwnPropertyDescriptor(config.regex, this.type);\r\n      return this.pattern\r\n        ? tools.string.toRegExp(this.pattern.toString())\r\n        : (o && o.value) || null;\r\n    },\r\n    iconStyle: function() {\r\n      let style = `top: 0.7em; left: 0.6em; width: 1em;`\r\n      switch(this.size) {\r\n        case 'sm':\r\n          style = `top: 0.5em; left: 0.5em; width: 1em;`\r\n          break;\r\n        case 'lg':\r\n          style = `top: 1.1em; left: 0.9em; width: 1em;`\r\n          break;\r\n      }\r\n      return style\r\n    },\r\n  },\r\n  watch: {\r\n    value: function(value) {\r\n      this.dataValue = value\r\n      this.$emit(\"input\", value);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n/* 隐藏数字控件的默认上下箭头 */\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\ninput[type=\"number\"] {\r\n  -moz-appearance: test-field;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-text.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-text.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./b-text.vue?vue&type=template&id=1614734b&scoped=true&\"\nimport script from \"./b-text.vue?vue&type=script&lang=js&\"\nexport * from \"./b-text.vue?vue&type=script&lang=js&\"\nimport style0 from \"./b-text.vue?vue&type=style&index=0&id=1614734b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1614734b\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"input[type=number][data-v-1614734b]::-webkit-inner-spin-button,input[type=number][data-v-1614734b]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][data-v-1614734b]{-moz-appearance:test-field}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"dropzone\",staticClass:\"d-table-row d-flex align-items-center\",class:_vm.objClass,attrs:{\"draggable\":\"true\"},on:{\"mouseenter\":_vm.mouseenterOnItem,\"mouseleave\":_vm.mouseleaveOnItem,\"click\":function($event){$event.stopPropagation();return _vm.clickOnItem($event)},\"dblclick\":function($event){$event.stopPropagation();return _vm.dblclickOnItem($event)},\"dragstart\":_vm.dragstart,\"dragover\":function($event){$event.preventDefault();return _vm.dragover($event)},\"dragleave\":_vm.dragleave,\"dragend\":_vm.dragend,\"dragexit\":_vm.dragexit,\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.drop($event)}}},[_c('div',{staticClass:\"d-table-cell pl-1\",class:_vm.itemClass,on:{\"click\":function($event){$event.stopPropagation();_vm.open = !_vm.open}}},[(_vm.isFolder)?_c('div',[_c('i',{staticClass:\"mr-2\",class:_vm.open ? _vm.icon.caretDown : _vm.icon.caretRight,staticStyle:{\"width\":\"10px\"},on:{\"dblclick\":function($event){$event.stopPropagation();}}}),_c('i',{staticClass:\"mr-2\",class:_vm.open ? _vm.icon.folderOpen : _vm.icon.folder,on:{\"click\":function($event){$event.stopPropagation();}}})]):_c('i',{staticClass:\"mx-2\",class:_vm.icon.fileAlt})]),_c('div',{staticClass:\"d-table-cell pr-1\"},[(!_vm.editItem)?_c('font',[_vm._v(\" \"+_vm._s(_vm.item.value)+\" \")]):_c('b-text',{ref:\"edior\",attrs:{\"value\":_vm.item.value,\"size\":\"sm\"},on:{\"blur\":_vm.editorBlur}})],1)]),(_vm.isFolder)?_c('b-tree',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.open),expression:\"open\"}],staticClass:\"mx-3\",attrs:{\"status\":_vm.status,\"list\":_vm.item.children,\"primar-key\":_vm.primaryKey},model:{value:(_vm.selectedOption),callback:function ($$v) {_vm.selectedOption=$$v},expression:\"selectedOption\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      ref=\"dropzone\"\r\n      class=\"d-table-row d-flex align-items-center\"\r\n      :class=\"objClass\"\r\n      draggable=\"true\"\r\n      @mouseenter=\"mouseenterOnItem\"\r\n      @mouseleave=\"mouseleaveOnItem\"\r\n      @click.stop=\"clickOnItem\"\r\n      @dblclick.stop=\"dblclickOnItem\"\r\n      @dragstart=\"dragstart\"\r\n      @dragover.prevent=\"dragover\"\r\n      @dragleave=\"dragleave\"\r\n      @dragend=\"dragend\"\r\n      @dragexit=\"dragexit\"\r\n      @drop.stop.prevent=\"drop\"\r\n    >\r\n      <div\r\n        class=\"d-table-cell pl-1\"\r\n        :class=\"itemClass\"\r\n        @click.stop=\"open = !open\"\r\n      >\r\n        <div v-if=\"isFolder\">\r\n          <i\r\n            class=\"mr-2\"\r\n            :class=\"open ? icon.caretDown : icon.caretRight\"\r\n            style=\"width: 10px\"\r\n            @dblclick.stop\r\n          />\r\n          <i\r\n            class=\"mr-2\"\r\n            :class=\"open ? icon.folderOpen : icon.folder\"\r\n            @click.stop\r\n          />\r\n        </div>\r\n        <i\r\n          v-else\r\n          class=\"mx-2\"\r\n          :class=\"icon.fileAlt\"\r\n        />\r\n      </div>\r\n      <!-- icon -->\r\n      <div class=\"d-table-cell pr-1\">\r\n        <font v-if=\"!editItem\">\r\n          {{ item.value }}\r\n        </font>\r\n        <b-text\r\n          v-else\r\n          ref=\"edior\"\r\n          :value=\"item.value\"\r\n          size=\"sm\"\r\n          @blur=\"editorBlur\"\r\n        />\r\n      </div>\r\n      <!-- label or edit -->\r\n    </div>\r\n    <!-- item -->\r\n    <b-tree\r\n      v-if=\"isFolder\"\r\n      v-show=\"open\"\r\n      v-model=\"selectedOption\"\r\n      class=\"mx-3\"\r\n      :status=\"status\"\r\n      :list=\"item.children\"\r\n      :primar-key=\"primaryKey\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tools from \"@/tools/index.js\";\r\nimport config from \"@/config/index.js\";\r\nimport util from \"@/components/util/index.js\";\r\n\r\nimport BText from \"@/components/form/b-text.vue\";\r\n\r\n// drop\r\n// https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API\r\n// https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drop_event\r\n\r\nexport default {\r\n  name: \"BTreeItem\",\r\n  components: { BTree: () => import(\"./b-tree\"), BText },\r\n  props: {\r\n    item: util.props.Object,\r\n    status: Number,\r\n    primaryKey: {\r\n      type: String,\r\n      default: \"id\",\r\n      require: true\r\n    },\r\n    selected: util.props.Object,\r\n  },\r\n  data() {\r\n    return {\r\n      open: this.item.open,\r\n      selectedOption: this.selected,\r\n      hover: false,\r\n      editItem: false, // 编辑\r\n      editError: false, // 编辑错误\r\n      dropStatus: \"default\" // 拖拽状态\r\n      // default: 默认, start: 开始, end: 结束, top: 上部, bottom: 下部\r\n    };\r\n  },\r\n  computed: {\r\n    icon: function() {\r\n      return config.ui.icon;\r\n    },\r\n    objClass: function() {\r\n      let disabled = !this.canEdit && !this.isSelected ? 'text-black-50' : ''\r\n      let isHover = this.hover\r\n        ? \"bg-light text-primary font-weight-bolder\"\r\n        : \"\";\r\n      let beChecked = this.isSelected ? \"text-light bg-primary\" : \"\";\r\n      return `${disabled} ${beChecked} ${isHover}`;\r\n    },\r\n    itemClass: function() {\r\n      let beChecked = this.isSelected ? \"\" : \"text-secondary\";\r\n      return `${beChecked} `;\r\n    },\r\n    isFolder: function() {\r\n      return this.item.children;\r\n    },\r\n    canEdit: function() {\r\n      return this.status == 1 && !this.item.disabled;\r\n    },\r\n    isSelected: function() {\r\n      return this.selectedOption &&\r\n        this.item[this.primaryKey] &&\r\n        this.selectedOption[this.primaryKey] &&\r\n        this.selectedOption[this.primaryKey] === this.item[this.primaryKey]\r\n    }\r\n  },\r\n  watch: {\r\n    selected: function(value) {\r\n      this.selectedOption = value;\r\n    },\r\n    selectedOption: function(value) {\r\n      this.$emit(\"item:selected\", value);\r\n    }\r\n  },\r\n  methods: {\r\n    mouseenterOnItem: function() {\r\n      if (!this.isSelected) this.hover = true;\r\n    },\r\n    mouseleaveOnItem: function() {\r\n      if (!this.isSelected) this.hover = false;\r\n    },\r\n    clickOnItem: function() {\r\n      this.hover = false;\r\n      this.selectedOption = this.item;\r\n    },\r\n    dblclickOnItem: async function() {\r\n      this.hover = false;\r\n      if (!this.canEdit) return;\r\n      this.editItem = true;\r\n      await this.$nextTick();\r\n      // 自动全选 editor 中的内容\r\n      await tools.document.setCursorPos(this.$refs.edior.$refs.text);\r\n    },\r\n    editValid: function() {\r\n      this.editError = false;\r\n    },\r\n    editInvalid: function() {\r\n      this.editError = true;\r\n    },\r\n    editorBlur: function() {\r\n      this.hideEditor();\r\n    },\r\n    hideEditor: function() {\r\n      if (this.editItem && !this.editError) this.editItem = false;\r\n    },\r\n    dragstart: function(event) {\r\n      event.target.style.opacity = \".5\";\r\n      event.dataTransfer.setData(\"text/plain\", null);\r\n      this.dropStatus = \"start\";\r\n    },\r\n    dragend: function(event) {\r\n      event.target.style.opacity = \"\";\r\n      this.dropStatus = \"end\";\r\n      if (this.$store.state.timer) this.$store.commit(\"stopTimer\");\r\n    },\r\n    dragexit: function() {\r\n      this.dropStatus = \"end\";\r\n      if (this.$store.state.timer) this.$store.commit(\"stopTimer\");\r\n    },\r\n    dragover: function(event) {\r\n      let target = this.$refs.dropzone;\r\n      if (this.isFolder) {\r\n        if (!this.$store.state.timer) {\r\n          tools.dom.addClass(target, \"bg-light\");\r\n          this.$store.commit(\"startTimer\", {\r\n            cellback: () => (this.open = true)\r\n          });\r\n        }\r\n      } else {\r\n        let currentTarget = event.currentTarget || undefined;\r\n        if (currentTarget)\r\n          this.dropStatus =\r\n            event.y - currentTarget.offsetTop < currentTarget.offsetHeight / 2\r\n              ? \"top\"\r\n              : \"bottom\";\r\n        tools.dom.addClass(target, \"border-primary\");\r\n        tools.dom.removeClass(target, `border-top`);\r\n        tools.dom.removeClass(target, `border-bottom`);\r\n        tools.dom.addClass(target, `border-${this.dropStatus}`);\r\n      }\r\n    },\r\n    dragleave: function() {\r\n      let target = this.$refs.dropzone;\r\n      tools.dom.removeClass(target, \"border-primary\");\r\n      tools.dom.removeClass(target, `border-top`);\r\n      tools.dom.removeClass(target, `border-bottom`);\r\n      tools.dom.removeClass(target, \"bg-light\");\r\n      if (this.isFolder && this.$store.state.timer)\r\n        this.$store.commit(\"stopTimer\");\r\n    },\r\n    drop: function(event) {\r\n      let target = this.$refs.dropzone;\r\n      tools.dom.removeClass(target, \"border-primary\");\r\n      tools.dom.removeClass(target, `border-top`);\r\n      tools.dom.removeClass(target, `border-bottom`);\r\n      tools.dom.removeClass(target, \"bg-light\");\r\n      this.dropStatus = \"default\";\r\n      if (this.isFolder && this.$store.state.timer)\r\n        this.$store.commit(\"stopTimer\");\r\n      this.$emit(\"item:drop\", event, this.isFolder, this.dropStatus);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-tree-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./b-tree-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./b-tree-item.vue?vue&type=template&id=2ab9648a&\"\nimport script from \"./b-tree-item.vue?vue&type=script&lang=js&\"\nexport * from \"./b-tree-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}